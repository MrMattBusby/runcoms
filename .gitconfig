# How to use:
# [include]
#	path        = /path/to/.gitconfig

[user]
	name        = Matt Busby
	
[alias]
	# CONFIG
	alias       = "!f() { git config --get-regexp ^alias.\"$1\"; }; f"
	cfg         = config -l
	cfgg        = config --global -l
	cfgl        = config --local -l
	ignore-local= update-index --assume-unchanged
	fetchall    = !git config remote.origin.fetch "+refs/heads/*:refs/remotes/origin/*" && git fetch origin # reconfigured config to fetch all remote refs
	fetchone    = "!f() { git remote set-branches --add origin \"$1\" && git fetch origin && git switch \"$1\"; }; f" # readd one branch after doing single-branch
	
	# SIMPLE SHORTCUTS
	br          = branch
	ci          = commit -v
	cleanup     = clean -df # removed all unversioned files
	cm          = commit -m
	co          = checkout
	d           = diff
	dc          = diff --cached
	dl          = diff HEAD^ HEAD # diff last
	diff-less   = !git diff | less
	dt          = difftool
	lost        = fsck --lost-found
	mt          = mergetool
	peek        = "!f() { git show \"$1\":\"$2\"; }; f" # branch:file
	plm         = pull
	plr         = pull --rebase
	rb          = rebase
	rba         = rebase --abort
	rbc         = rebase --continue
	rbc         = rebase --skip
	squash      = rebase -i
	st          = status -sb
	sw          = switch
	swc         = switch -c
	
	# REFS/BRANCHES
	bra         = branch -avv
	brl         = branch -lv
	brn         = rev-parse --abbrev-ref HEAD # get branch name
	brr         = branch -rv
	brv         = remote show origin # most verbose
	del         = branch --delete
	delf        = branch --delete --force
	get         = !git fetch origin && git switch # get an existing branch
	prune       = fetch --all --prune # delete local branches after they've been remotely deleted
	refsl       = show-ref -d # local refs
	refsr       = ls-remote # remote refs (e.g. if you've done a single-branch and need to see everything available)
	
	# INDEX/ETC
	amend       = commit --amend
	incoming    = !git fetch origin && git diff HEAD FETCH_HEAD
	incoming2   = "!f() { git fetch origin \"$1\" && git diff HEAD..origin/\"$1\"; }; f"
	merge-ours  = checkout --ours -- 
	merge-theirs= checkout --theirs -- 
	onto        = !git fetch origin && git rebase
	readd       = add -u
	wipe        = restore --source=HEAD --staged --worktree -- # reset --hard HEAD --
	save        = commit -am 'Save point'
	shallow     = clone --single-branch --depth 50 -b 
	uncommit    = reset --soft HEAD~1 --
	unstage     = restore --source=HEAD --staged -- # reset --mixed HEAD --
	
	# PUSHES
	dela        = "!f() { git branch -d \"$1\" && git push origin --delete \"$1\"; }; f" # delete all
	delr        = push origin --delete # {branch}
	done        = push origin HEAD
	new         = "!f() { git switch -c \"$1\" && git push -u origin \"$1\"; }; f"
	tg          = "!f() { git tag -a \"$1\" -m \"$2\" && git push origin \"$1\"; }; f" # delete remote
	
	# STASHES
	sh          = stash
	sha         = stash apply
	shl         = stash list
	shp         = stash pop
	shs         = stash save
	
	# HISTORY
	info        = show --stat
	l           = log --oneline
	la          = log --pretty=format:'%C(yellow)%h%Creset %Cgreen(%ad) %C(bold blue)<%an>%Creset %s' --date=short
	last        = log -n 1 --stat
	lf          = log --follow -p -- # log of a file
	lg          = log --graph --pretty=format:'%Cred%h%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative
	ll          = log origin..HEAD --pretty=format:'%C(yellow)%h%Creset %Cgreen(%ad) %C(bold blue)<%an>%Creset %s' --date=short
	recent      = log -n 3 --stat
	
	# FILES
	dump        = cat-file -p
	type        = cat-file -t
	
	# VISUAL
	vis         = !gitk &
